        -:    0:Source:/home/av/UnitDir/2024_C_AV_RPI/tests/data_test.cpp
        -:    0:Graph:./build/tests/CMakeFiles/data_test.dir/data_test.cpp.gcno
        -:    0:Data:./build/tests/CMakeFiles/data_test.dir/data_test.cpp.gcda
        -:    0:Runs:3
        -:    1:#include "data.h"
        -:    2:#include <cassert>
        -:    3:
        3:    4:int main(int argc, char** argv) {
        -:    5:    // Initialize the Goat
        3:    6:    Data& goatData = Data::get_instance();
        -:    7:
        -:    8:    // Test TLM_CMD_ID
        3:    9:    Data::GoatReg telemetryCommand = Data::GoatReg::TLM_CMD_ID;
        3:   10:    int testTelemetryValue = 42;
        3:   11:    goatData.write(telemetryCommand, &testTelemetryValue);
        3:   12:    DataDump dump = goatData.get();
       3*:   13:    assert(dump.telemetry_cmd.id == testTelemetryValue);
        -:   14:
        -:   15:    // Test TLM_CMD_VALUE
        3:   16:    Data::GoatReg telemetryValueReg = Data::GoatReg::TLM_CMD_VALUE;
        3:   17:    uint8_t testTelemetryCmdValue = 128;
        3:   18:    goatData.write(telemetryValueReg, &testTelemetryCmdValue);
        3:   19:    dump = goatData.get();
       3*:   20:    assert(dump.telemetry_cmd.value == testTelemetryCmdValue);
        -:   21:
        -:   22:    // Test NAV_SENSOR_ADXL1_STAT
        3:   23:    Data::GoatReg adxl1StatusReg = Data::GoatReg::NAV_SENSOR_ADXL1_STAT;
        3:   24:    uint8_t testAdxl1Status = 1;
        3:   25:    goatData.write(adxl1StatusReg, &testAdxl1Status);
        3:   26:    dump = goatData.get();
       3*:   27:    assert(dump.stat.adxl_status == testAdxl1Status);
        -:   28:
        -:   29:    // Test NAV_SENSOR_ADXL2_STAT
        3:   30:    Data::GoatReg adxl2StatusReg = Data::GoatReg::NAV_SENSOR_ADXL2_STAT;
        3:   31:    uint8_t testAdxl2Status = 1;
        3:   32:    goatData.write(adxl2StatusReg, &testAdxl2Status);
        3:   33:    dump = goatData.get();
       3*:   34:    assert(dump.stat.adxl_aux_status == testAdxl2Status);
        -:   35:
        3:   36:}
